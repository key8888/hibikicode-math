# hibikicode math lab 目次

## 第1章 数学ラボとは？

### 1.1 数学ラボとは？
- 概要: hibikicode math lab の目的や学べることを紹介し、実験的に数学とプログラミングを結び付ける姿勢を示す。対象となる中高生がどのような体験を得られるかをイメージできるようにする。
- 図挿入推奨: ラボ全体像の概念図（実験・数学・プログラミングの関係）。保存先: `lessons/lesson01/`

### 1.2 ラボで使うツールと学習環境
- 概要: Python実行環境、エディタ、Bokehベースの可視化ツール、AI活用の流れなど教材で使うツール群をまとめる。学習前の準備事項と推奨設定を明示する。
- 図挿入推奨: 学習環境フローの図。保存先: `lessons/lesson02/`

### 1.3 学習の進め方とAIとの付き合い方
- 概要: 予習→実験→振り返りの学習サイクルと、AIを安全かつ効果的に活用するためのルールを整理する。著作権や情報セキュリティにも言及する。
- 図挿入推奨: 学習サイクルのサイクル図。保存先: `lessons/lesson03/`

## 第2章 Pythonを復習しよう！

### 2.1 変数とprint()
- 概要: 変数の宣言・代入・型、print()での出力を扱い、Bokeh環境での基本的な表示方法に触れる。短い演習を通して基本操作を確認する。
- 図挿入推奨: 変数とメモリイメージの図。保存先: `lessons/lesson04/`

### 2.2 配列の概要
- 概要: Pythonのリストを中心に、配列の役割と基礎的な操作を紹介する。複数データをまとめる利点を身近な例で説明する。
- 図挿入推奨: リスト構造の模式図。保存先: `lessons/lesson05/`

### 2.3 配列のインデックスとスライス
- 概要: 要素の取り出し、負のインデックス、スライス記法を丁寧に解説する。範囲外アクセスの注意点も取り上げる。
- 図挿入推奨: インデックス番号の図解。保存先: `lessons/lesson06/`

### 2.4 配列の追加・削除操作
- 概要: append、insert、pop、del などの操作を学び、データを動的に扱う感覚を養う。簡単なシミュレーション例につなげる。
- 図挿入推奨: 操作前後で配列が変化する図。保存先: `lessons/lesson07/`

### 2.5 繰り返し処理と配列の活用
- 概要: for ループで配列を走査し、条件分岐と組み合わせて統計量を求める例を扱う。内包表記の軽い紹介も行う。
- 図挿入推奨: ループ処理のフローチャート。保存先: `lessons/lesson08/`

### 2.6 多次元配列と表データ
- 概要: リストのリストで表を表現する方法や、座標データの管理方法を説明する。Bokehで扱う座標の準備にもつなげる。
- 図挿入推奨: 表データのマトリクス図。保存先: `lessons/lesson09/`

### 2.7 配列を使った簡単な統計処理
- 概要: 最小値・最大値・平均などの計算を行い、数学的な意味を確認する。NumPyを使わずに書く場合と使う場合を比較する。
- 図挿入推奨: 統計指標の関係図。保存先: `lessons/lesson10/`

### 2.8 関数の概要
- 概要: def 文での関数定義、引数、戻り値を学ぶ。配列を扱う関数を例にしながら、再利用性の考え方を身につける。
- 図挿入推奨: 入力→処理→出力のボックス図。保存先: `lessons/lesson11/`

## 第3章 最初のグラフ

### 3.1 グラフ業界の専門用語
- 概要: 軸、座標、凡例、マーカーなどグラフ描画に必要な用語を整理する。Bokeh固有の用語との対応も示す。
- 図挿入推奨: グラフの各部名称を示す図。保存先: `lessons/lesson12/`

### 3.2 点をプロットするには
- 概要: `plot_points` 関数を用いた点描画の流れを解説する。ColumnDataSourceとの関連も説明する。
- 図挿入推奨: 点を打った散布図の例。保存先: `lessons/lesson13/`

### 3.3 点の大きさを変えるには
- 概要: `plot_points` の `size` 引数や、マーカー種類の扱い方を紹介する。視覚的な強調方法を学ぶ。
- 図挿入推奨: サイズが異なる点を比較した図。保存先: `lessons/lesson14/`

### 3.4 点の色を変えるには
- 概要: カラーパレット、16進カラーコードの指定方法を学び、データ属性に応じて色を変える実例を示す。
- 図挿入推奨: 色分け散布図。保存先: `lessons/lesson15/`

### 3.5 点のほかに変更可能な部分
- 概要: タイトル、軸ラベル、ツールバーなど付随する設定を変更し、読みやすいグラフを作る方法を学ぶ。
- 図挿入推奨: 設定項目を強調したグラフの図。保存先: `lessons/lesson16/`

### 3.6 二点をつなぐ直線をプロットするには？
- 概要: `plot_function` や `line` メソッドを使って点を結ぶ手順を学ぶ。直線の方程式との対応付けを行う。
- 図挿入推奨: 2点を結んだ直線図。保存先: `lessons/lesson17/`

### 3.7 線の太さを変えるには
- 概要: `line_width` の調整方法や視認性の考慮点を扱う。比較用の複数線描画例を紹介する。
- 図挿入推奨: 太さ違いの線比較図。保存先: `lessons/lesson18/`

### 3.8 線の色を変えるには
- 概要: 線の色指定や凡例との組み合わせを解説する。カラーパレットを活用する例も含める。
- 図挿入推奨: 色分けされた線グラフ。保存先: `lessons/lesson19/`

### 3.9 折れ線グラフを作ってみよう
- 概要: 複数データ点を順番に結ぶ折れ線グラフを作成し、データ変化の読み取りを練習する。インタラクティブな工夫も紹介する。
- 図挿入推奨: 折れ線グラフの完成例。保存先: `lessons/lesson20/`

## 第4章 一次関数

### 4.1 一次関数の基本形
- 概要: y=ax+b の意味、傾きと切片の役割を確認し、式からグラフをイメージする練習を行う。
- 図挿入推奨: 傾きと切片を示すグラフ。保存先: `lessons/lesson21/`

### 4.2 傾きと切片を読み取る
- 概要: グラフから傾き・切片を求める手順や、日常の比例・反比例との関連を示す。
- 図挿入推奨: 傾き比較の図。保存先: `lessons/lesson22/`

### 4.3 一次関数のグラフをPythonで描く
- 概要: `plot_function` と `new_plot` を使った一次関数の描画を学び、パラメーターを変えたときの変化を観察する。
- 図挿入推奨: 複数の一次関数を重ねた図。保存先: `lessons/lesson23/`

### 4.4 一次関数の応用問題
- 概要: 速さや料金計算などの応用例を扱い、式→グラフ→考察の流れを体験する。グループワーク向けの問いも提示する。
- 図挿入推奨: 応用問題の状況図。保存先: `lessons/lesson24/`

### 4.5 Bokehで一次関数を可視化するコツ
- 概要: スライダーや色変更を用いて一次関数の振る舞いを強調する。教材環境特有の helper 関数の使い方を整理する。
- 図挿入推奨: UI要素付きグラフのイメージ。保存先: `lessons/lesson25/`

## 第5章 一次関数で作る図形

### 5.1 直線で囲まれた領域
- 概要: 複数の一次関数で囲まれる領域を理解し、図形として捉える。領域判定のロジックも紹介する。
- 図挿入推奨: 三角形や台形を示す図。保存先: `lessons/lesson26/`

### 5.2 多角形の構成と面積
- 概要: 一次関数で定義した点を組み合わせ、多角形を形成し面積を求める方法を学ぶ。座標幾何の考え方に触れる。
- 図挿入推奨: 多角形の面積図。保存先: `lessons/lesson27/`

### 5.3 変化する図形のシミュレーション
- 概要: パラメーターを操作して図形が変化する様子を可視化し、時間や状況による変化を分析する。
- 図挿入推奨: 変形前後の図形比較。保存先: `lessons/lesson28/`

### 5.4 Bokehで図形を動かすテクニック
- 概要: ColumnDataSourceの更新やアニメーション的表現の作り方を紹介し、インタラクティブ教材への応用を考える。
- 図挿入推奨: 動く図形のイメージ図。保存先: `lessons/lesson29/`

## 第6章 二次関数

### 6.1 二次関数の基本形
- 概要: y=ax^2+bx+c の形とグラフの特徴を整理する。中学校で学ぶ標準的な内容を確認する。
- 図挿入推奨: 放物線の基本図。保存先: `lessons/lesson30/`

### 6.2 頂点と軸の求め方
- 概要: 頂点座標と対称軸の導出方法を説明し、平方完成や公式の導き方を扱う。
- 図挿入推奨: 頂点と軸を強調した図。保存先: `lessons/lesson31/`

### 6.3 グラフの平行移動と伸縮
- 概要: 係数を変えることでグラフがどのように変化するかを分析する。Bokehを用いた動的な比較を紹介する。
- 図挿入推奨: パラメーター別の放物線図。保存先: `lessons/lesson32/`

### 6.4 二次関数とデータフィッティング
- 概要: 観測データに二次関数を当てはめる考え方を解説する。NumPyを使った最小二乗法の入門例を示す。
- 図挿入推奨: データ点と近似曲線図。保存先: `lessons/lesson33/`

### 6.5 Bokehで二次関数を表現するコツ
- 概要: `plot_function` による描画、凡例・色分けの工夫、滑らかな曲線を描くための分割数調整をまとめる。
- 図挿入推奨: 表現パターン比較図。保存先: `lessons/lesson34/`

## 第7章 三次関数

### 7.1 三次関数の特徴
- 概要: 三次関数の一般形と、増減・極値の基本的な特徴を整理する。高校数学の導入レベルに合わせる。
- 図挿入推奨: 三次関数の典型的なグラフ。保存先: `lessons/lesson35/`

### 7.2 変曲点とグラフの読み方
- 概要: 変曲点の意味を説明し、一次・二次との違いを図的に確認する。微分のイメージにも触れる。
- 図挿入推奨: 変曲点を示す図。保存先: `lessons/lesson36/`

### 7.3 パラメーターによる形状変化
- 概要: 係数を変えてグラフがどのように変化するかを比較し、対称性や伸縮を考察する。
- 図挿入推奨: 複数の三次関数を並べた図。保存先: `lessons/lesson37/`

### 7.4 三次関数でモデリング
- 概要: 実生活の曲線を三次関数で近似する例を紹介し、モデリングの流れを学ぶ。
- 図挿入推奨: モデルと実データ比較図。保存先: `lessons/lesson38/`

### 7.5 Bokehで三次関数をアニメーション表示
- 概要: 時間変化するパラメーターを用いたアニメーション的表現を解説する。教材環境で利用できる範囲での実装方法を整理する。
- 図挿入推奨: アニメーションイメージの静止画。保存先: `lessons/lesson39/`

## 第8章 三角関数

### 8.1 三角関数の定義と単位円
- 概要: サイン・コサイン・タンジェントの定義と単位円の関係を復習する。ラジアンの説明も含める。
- 図挿入推奨: 単位円と角度の図。保存先: `lessons/lesson40/`

### 8.2 三角関数のグラフと周期性
- 概要: 基本的な波形と周期の概念を説明し、グラフから読み取れる特徴を整理する。
- 図挿入推奨: サイン・コサインの基本グラフ。保存先: `lessons/lesson41/`

### 8.3 振幅・位相・周波数の調整
- 概要: パラメーターを変えることで波形がどう変わるかを実験し、公式とのつながりを確認する。
- 図挿入推奨: パラメーター別波形比較図。保存先: `lessons/lesson42/`

### 8.4 三角関数の応用例
- 概要: 音や光、振動など身近な現象での三角関数の利用例を紹介する。データとの対応を示す。
- 図挿入推奨: 応用場面のイメージ図。保存先: `lessons/lesson43/`

### 8.5 Bokehで波を描くテクニック
- 概要: `plot_function` と `plot_parametric` を使って波を描画し、複数波の重ね合わせやアニメーション的表現を扱う。
- 図挿入推奨: 合成波のグラフ。保存先: `lessons/lesson44/`

---

## 教材作成用共通プロンプト
以下のテンプレートをベースに、章・節ごとの教材を作成してください。`{section_overview}` には上記で整理した概要文を挿入します。

```
あなたは日本の中学生から高校生に向けた数学×プログラミング教材作成の専門家です。以下の要件に従い、教材本文（Markdown形式）を作成してください。

# 1. 基本条件
- 対象: 中学生〜高校生。高校数学I〜IIの範囲を見据えて、段階的に説明する。
- 学習時間目安: 45〜60分。
- 目的: 数学的概念の理解とPython/Bokehを使った実験的学習。
- 教材構成: 「導入」「概念整理」「Python実験」「振り返り・発展」の4セクションで構成する。
- 文章は日本語で書き、難しい語句にはかならず噛み砕いた説明を添える。

# 2. 内容要件
- 今回扱うテーマの概要: {section_overview}
- 数学的背景を高校の教科書レベルで整理し、式や定義は LaTeX 記法で記述する。
- Pythonコード例を少なくとも2本示し、1本は基礎確認、もう1本は探究的な発展例とする。
- Pythonコードは hibikicode math lab 環境固有の helper 関数を想定する:
  - `new_plot(title="グラフ", width=600, height=400, **kwargs)` で新規図を作成。
  - `plot_points(x_values, y_values, target_plot=None, size=8, marker="circle", color="#d62728", legend_label=None)` で散布図を描く。
  - `plot_function(func, x_start=-10, x_end=10, num=400, target_plot=None, line_color="#1f77b4", legend_label=None)` で関数グラフを描く。
  - `plot_parametric(x_func, y_func, t_start=-10, t_end=10, num=400, target_plot=None, line_color="#2ca02c", legend_label=None)` でパラメトリック曲線を描く。
  - `ColumnDataSource` を使う場合は `from bokeh.plotting import ColumnDataSource` が既に利用可能。
- Bokeh本家との差異: `show()` を使わず、`plot` 変数（または `new_plot` が返すオブジェクト）を直接操作し、最後に環境側が JSON で埋め込むことを想定する。必要なら `new_plot()` で描画対象を切り替える。
- Python標準ライブラリは一部制限があるため、複雑な外部ライブラリは使わずに説明する。

# 3. 図版指示
- 指定された図挿入ポイントごとに、本文内に次の形式のプレースホルダーを挿入すること:
  `![図の説明](lessonXX/placeholder.png)`
  - `lessonXX` は該当するレッスンファイル（例: 第1章1節なら `lesson01`）に合わせて記述する。
  - `placeholder.png` は後から差し替えられるファイル名。内容に合わせたわかりやすい名前を提案する。
- 図の説明文には図で確認したいポイントを簡潔に書く。

# 4. 学習活動
- 生徒が自分で手を動かすためのミニ課題を各セクションに1つずつ用意する。
- 振り返りでは「理解したこと」「疑問に思ったこと」を書き出すチェックリストを提示する。
- 発展では探究課題や社会とのつながりを提案する。

# 5. 文体
- 教師と生徒の対話を意識した親しみやすい文体。
- セクション冒頭に学習目標を箇条書きで示す。
- コード解説ではコメントや出力例を併記する。
```

この共通プロンプトと各節の概要を組み合わせることで、AIが一貫した教材コンテンツを生成できるようにしてください。
