# 第2章 Pythonを復習しよう！
## 2.3 配列のインデックスとスライス

### 説明＆コード
リストの中身を取り出すときは、インデックス（番号）を使うよ。最初の要素には番号0がつく。数学で言うと、数列 $a_0, a_1, a_2, \ldots$ みたいな感じ。

```python
numbers = [10, 20, 30, 40]
print(numbers[0])  # 先頭の10
print(numbers[2])  # 3番目の30
```

後ろから数えるときは負のインデックスを使う。`-1` が最後、`-2` が最後から2番目だよ。

```python
print(numbers[-1])  # 40
print(numbers[-2])  # 30
```

スライスは「何番目から何番目まで」という連続した部分を切り出す書き方。記号は `numbers[start:end]` で、`start` 番目から `end-1` 番目までが取れる。数学で区間 $[a, b)$ のように右端を含まないイメージ。

```python
print(numbers[1:3])   # [20, 30]
print(numbers[:2])    # 先頭から2つ -> [10, 20]
print(numbers[2:])    # 2番目以降全部 -> [30, 40]
```

インデックスの範囲外を指定するとエラーになるから注意。`numbers[4]` のように存在しない番号を指定しないようにしよう。

Bokeh ではスライスを使って特定の区間だけを描くこともできる。例として、$y = x^2$ のデータから最初の3点だけ取り出して表示するよ。

```python
x_all = [0, 1, 2, 3, 4]
y_all = [0, 1, 4, 9, 16]
plot = new_plot(title="最初の3点だけ表示")
plot_points(x_all[:3], y_all[:3], target_plot=plot, legend_label="部分データ")
```

#### ミニ課題
`prices = [120, 150, 180, 200, 220]` の3番目の値と最後の値を `print()` で表示しよう。さらに、最初の4つだけをスライスして新しいリスト `small_prices` に入れ、Bokehで点を描いてみて。

### 質問タイム
1. インデックスは0から始まるのはなぜだと思う？
2. スライスで右端を含まない書き方にどんなメリットがある？
3. 範囲外アクセスを防ぐにはどんな工夫ができそう？

### 振り返り
- [ ] インデックスと負のインデックスの意味を確認できた
- [ ] スライスで部分リストを作る方法を試せた
- [ ] 気になったことを書き残した

### 発展
- 数列 $a_n = 2n$ の最初の10項をリストにして、前半5項だけを別リストにして比較してみよう。
- スライスで奇数番目だけ取り出すなど、パターンを見つけてみよう。
