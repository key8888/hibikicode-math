# 第4章 一次関数
## 4.8 一次関数のモデル化（リアルデータ編）

### 説明＆コード
身近なデータが一次関数で近似できる場面を体験しよう。ここでは「歩数と距離」を仮のデータで用意し、手計算で回帰直線（近似直線）を作る簡易版をやる。

手順:
1. データを点でプロット。
2. 目で見て「だいたい通りそうな直線」を決める。
3. 傾きと切片を少しずつ調整して、ずれを小さくする。

```python
plot = new_plot(title="歩数と距離の関係(仮データ)", width=600, height=400)
plot.xaxis.axis_label = "歩数 x (歩)"
plot.yaxis.axis_label = "距離 y (m)"

# 仮の観測データ
steps = [0, 500, 1000, 1500, 2000]
distance = [0, 350, 720, 1080, 1450]
plot_points(steps, distance, target_plot=plot, size=10, color="#d62728",
            legend_label="観測データ")

# 手作業で決めた近似直線（1歩 ≈ 0.7m, 初期ずれ 0）
plot_function(lambda x: 0.7 * x, x_start=0, x_end=2000, target_plot=plot,
              line_color="#1f77b4", legend_label="仮の近似直線")
plot.legend.location = "top_left"
```

実際の最小二乗法は高校数学以降の内容だけど、「傾きや切片を調整してデータに合わせる」という考え方を体感しよう。

#### ミニ課題
傾きを `0.72`、切片を `-20` などに変えて、目で見てフィット感がよくなる組み合わせを探してみよう。

### 質問タイム
1. データが直線の周りに散らばるとき、傾きと切片をどうやって決めると良さそう？
2. 切片が負になるとき、どんな意味がありそう？

### 振り返り
- [ ] データ点と直線を同じグラフに描けた？
- [ ] 直線の傾きや切片を変えて、フィット感の違いを感じ取れた？

### 発展
実際に自分の歩数と距離を計測してデータを作り、今日の方法で近似してみよう。家族や友達と比べると歩幅の違いが見えてくるかも。
